var cov_99r3efo6=function(){var path="/home/admin1/Desktop/FundooApp/Backend/services/mailService.js";var hash="9c443f88cf9addc7e0f5aa291a01dcf4ddcdc47a";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/admin1/Desktop/FundooApp/Backend/services/mailService.js",statementMap:{"0":{start:{line:12,column:0},end:{line:12,column:27}},"1":{start:{line:13,column:19},end:{line:13,column:40}},"2":{start:{line:14,column:15},end:{line:14,column:38}},"3":{start:{line:20,column:0},end:{line:56,column:1}},"4":{start:{line:27,column:22},end:{line:33,column:6}},"5":{start:{line:39,column:22},end:{line:44,column:5}},"6":{start:{line:50,column:4},end:{line:55,column:7}},"7":{start:{line:51,column:8},end:{line:54,column:56}},"8":{start:{line:52,column:12},end:{line:52,column:31}},"9":{start:{line:54,column:12},end:{line:54,column:56}},"10":{start:{line:58,column:0},end:{line:81,column:1}},"11":{start:{line:60,column:22},end:{line:66,column:6}},"12":{start:{line:68,column:22},end:{line:73,column:5}},"13":{start:{line:75,column:4},end:{line:80,column:7}},"14":{start:{line:76,column:8},end:{line:79,column:56}},"15":{start:{line:77,column:12},end:{line:77,column:32}},"16":{start:{line:79,column:12},end:{line:79,column:56}},"17":{start:{line:83,column:0},end:{line:83,column:49}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:20,column:17},end:{line:20,column:18}},loc:{start:{line:21,column:0},end:{line:56,column:1}},line:21},"1":{name:"(anonymous_1)",decl:{start:{line:50,column:38},end:{line:50,column:39}},loc:{start:{line:50,column:59},end:{line:55,column:5}},line:50},"2":{name:"(anonymous_2)",decl:{start:{line:58,column:17},end:{line:58,column:18}},loc:{start:{line:59,column:0},end:{line:81,column:1}},line:59},"3":{name:"(anonymous_3)",decl:{start:{line:75,column:38},end:{line:75,column:39}},loc:{start:{line:75,column:59},end:{line:80,column:5}},line:75}},branchMap:{"0":{loc:{start:{line:51,column:8},end:{line:54,column:56}},type:"if",locations:[{start:{line:51,column:8},end:{line:54,column:56}},{start:{line:51,column:8},end:{line:54,column:56}}],line:51},"1":{loc:{start:{line:76,column:8},end:{line:79,column:56}},type:"if",locations:[{start:{line:76,column:8},end:{line:79,column:56}},{start:{line:76,column:8},end:{line:79,column:56}}],line:76}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0},f:{"0":0,"1":0,"2":0,"3":0},b:{"0":[0,0],"1":[0,0]},_coverageSchema:"43e27e138ebf9cfc5966b082cf9a028302ed4184",hash:"9c443f88cf9addc7e0f5aa291a01dcf4ddcdc47a"};var coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}return coverage[path]=coverageData;}();cov_99r3efo6.s[0]++;/**
* @description: 
* @file: mailService.js
* @author: Vedant Nare
* @version: 1.0
*/ /**
*@description Dependencies are installed for execution. 
*/require('dotenv').config();const nodemailer=(cov_99r3efo6.s[1]++,require('nodemailer'));const logger=(cov_99r3efo6.s[2]++,require('./logService'));/**
*@description Nodemailer is used for sending mail. 
*/cov_99r3efo6.s[3]++;sendForgotLink=(url,req)=>{cov_99r3efo6.f[0]++;/**
    *@description SMTP is the main transport in Nodemailer for delivering messages. 
    *SMTP is also the protocol used between different email hosts, so its truly universal.
    */var transporter=(cov_99r3efo6.s[4]++,nodemailer.createTransport({service:'gmail',auth:{user:process.env.email_id,pass:process.env.password}}));/**
    *@description Contents of mail are being readied here.
    */let mailOptions=(cov_99r3efo6.s[5]++,{from:process.env.email_id,to:req,subject:'Reset Password Link',text:'Click on the following link to reset Fundoo password.Link will be active for 12 hours.\n'+url});/**
    *@description sendMail method is used for sending mails to the mentioned service.
    */cov_99r3efo6.s[6]++;transporter.sendMail(mailOptions,function(error,info){cov_99r3efo6.f[1]++;cov_99r3efo6.s[7]++;if(error){cov_99r3efo6.b[0][0]++;cov_99r3efo6.s[8]++;logger.info(error);}else{cov_99r3efo6.b[0][1]++;cov_99r3efo6.s[9]++;logger.info('Email sent: '+info.response);}});};cov_99r3efo6.s[10]++;sendVerifyLink=(url,req)=>{cov_99r3efo6.f[2]++;var transporter=(cov_99r3efo6.s[11]++,nodemailer.createTransport({service:'gmail',auth:{user:process.env.email_id,pass:process.env.password}}));let mailOptions=(cov_99r3efo6.s[12]++,{from:process.env.email_id,to:req,subject:'Verification link',text:'Click on the following link to verify Fundoo account.\n'+url});cov_99r3efo6.s[13]++;transporter.sendMail(mailOptions,function(error,info){cov_99r3efo6.f[3]++;cov_99r3efo6.s[14]++;if(error){cov_99r3efo6.b[1][0]++;cov_99r3efo6.s[15]++;logger.error(error);}else{cov_99r3efo6.b[1][1]++;cov_99r3efo6.s[16]++;logger.info('Email sent: '+info.response);}});};cov_99r3efo6.s[17]++;module.exports={sendForgotLink,sendVerifyLink};